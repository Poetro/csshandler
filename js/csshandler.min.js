/**
 * C S S  H A N D L E R  1.0
 *
 * Created by Hegyk√∂zi Gergely (Leonuh)
 * Twitter: @leonuh
 * Email: leonuh@gmail.com
 *
 * Replacable vars: $selector, $repeat, $delay, $counter
 */(function(doc){function process(fn,repeat,delay,selector){var intervalId,repeatCounter=0;fn=fn.replace(/\$selector/ig,selector).replace(/\$$repeat/ig,repeat).replace(/\$$delay/ig,delay),intervalId=setInterval(function(){var fnFull=fn.replace(/\$counter/ig,repeatCounter);eval(fnFull);if(repeatCounter===repeat){clearInterval(intervalId);return}++repeatCounter},delay)}function parser(a){function k(a){return typeof a!="undefined"&&a.length!==0}function l(a){var b="",c=0,d=0,e=Array.prototype.slice.call(arguments);return k(e[2])&&k(e[3])&&k(e[4])?(b=e[2],c=e[3],d=e[4]):k(e[6])&&k(e[7])?(b=e[6],c=e[7]):k(e[9])&&(b=e[9]),process(b,+c,+d,g)}var b,c,d,e,f,g,h,i=a.replace(new RegExp("\n","ig"),""),j=i.match(new RegExp("[^}\\*\\/]*?{[^}]*?\\/\\*ch.*?\\*\\/.*?}","ig"));h=doc.createElement("script"),i.replace(new RegExp("\\/\\*ch(.*?)ch\\*\\/","ig"),function(){h.appendChild(doc.createTextNode(arguments[1]))}),doc.getElementsByTagName("head")[0].appendChild(h);for(b=0,d=j.length;b<d;b+=1){g=j[b].replace(new RegExp("(.*?){.*","i"),"$1").replace(/^\s\s*/,"").replace(/\s\s*$/,""),f=j[b].match(new RegExp("\\/\\*ch.*?\\*\\/","ig"));for(c=0,e=f.length;c<e;c+=1)f[c].replace(new RegExp("\\/\\*ch( (.*) (.*) (.*) )|( (.*) (.*) )|( (.*) )\\*\\/","i"),l)}}function packUp(){function h(){var a=doc.getElementsByTagName("style"),b,c=0,d=a.length;for(;c<d;c+=1){b=a[c];if(typeof b!="object")continue;g+=b.innerHTML}parser(g)}function i(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){b.readyState===4&&(++e,f===e?h():g+=b.responseText)},b.open("GET",a),b.send()}var a=doc.getElementsByTagName("link"),b=0,c=a.length,d,e=0,f=0,g="";for(;b<c;b+=1){d=a[b];if(typeof d!="object")continue;++f,d.getAttribute("rel")==="stylesheet"&&i(d.getAttribute("href"))}f===0&&h()}window.addEventListener&&doc.addEventListener("DOMContentLoaded",packUp,!1)})(document);
